<!DOCTYPE html>
<html lang="th">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ลงทะเบียน/เข้าสู่ระบบ - ระบบฐานข้อมูลกลางกระทรวงแรงงาน</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css" />
    <style>
        /* Custom styles if needed */
        body {
            font-family: 'Inter', sans-serif; /* Default font */
        }
        /* Add smooth transition for tab switching */
        .tab-content {
            transition: opacity 0.3s ease-in-out;
        }
        .tab-content.hidden {
            opacity: 0;
        }
    </style>
    <link rel="preconnect" href="https://fonts.googleapis.com">
     <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
     <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&family=Sarabun:wght@400;500;600;700&display=swap" rel="stylesheet">
     <style>
        /* Use Sarabun font for Thai text */
        body {
            font-family: 'Sarabun', 'Inter', sans-serif;
        }
     </style>
</head>
<body class="bg-gray-100 flex flex-col min-h-screen">

    <header class="bg-white shadow-md sticky top-0 z-50">
        <nav class="px-4 sm:px-6 lg:px-8 py-3">
            <div class="flex items-center justify-between h-16">
                <div class="flex items-center">
                    <a class="flex items-center space-x-2">  
                        <!-- <img src="https://placehold.co/40x40/3498db/ffffff?text=MOL"  -->
                        <img src="MOLLogo.png"
                        alt="โลโก้กระทรวงแรงงาน" class="h-20 w-20 rounded-full object-cover" 
                        onerror="this.src='https://placehold.co/40x40/cccccc/ffffff?text=Logo'; this.onerror=null;">
                        <span class="text-xl font-semibold text-gray-800">ระบบฐานข้อมูลกลาง</span>
                    </a>
                </div>

                <!-- <div class="flex items-center space-x-4">
                    <button class="text-gray-500 hover:text-gray-700 focus:outline-none relative">
                        <i class="fas fa-bell text-xl"></i>
                        <span class="absolute top-0 right-0 block h-2 w-2 rounded-full bg-red-500 ring-2 ring-white"></span>
                    </button>

                    <button id="loginButton" class="bg-blue-600 hover:bg-blue-700 text-white font-medium py-2 px-4 rounded-lg transition duration-150 ease-in-out">
                        เข้าสู่ระบบ
                    </button>

                    <div id="userProfile" class="hidden relative">
                        <button class="flex items-center space-x-2 text-gray-700 hover:text-gray-900 focus:outline-none">
                            <img src="https://placehold.co/32x32/7f8c8d/ffffff?text=User" alt="โปรไฟล์ผู้ใช้" class="h-8 w-8 rounded-full object-cover" onerror="this.src='https://placehold.co/32x32/cccccc/ffffff?text=P'; this.onerror=null;">
                            <span class="hidden sm:inline">ชื่อผู้ใช้</span>
                            <i class="fas fa-chevron-down text-xs"></i>
                        </button>
                        <div class="absolute right-0 mt-2 w-48 bg-white rounded-md shadow-lg py-1 hidden">
                            <a href="#" class="block px-4 py-2 text-sm text-gray-700 hover:bg-gray-100">โปรไฟล์</a>
                            <a href="#" class="block px-4 py-2 text-sm text-gray-700 hover:bg-gray-100">ตั้งค่า</a>
                            <hr class="my-1">
                            <a href="#" id="logoutButton" class="block px-4 py-2 text-sm text-red-600 hover:bg-gray-100">ออกจากระบบ</a>
                        </div>
                    </div>
                </div> -->
            </div>
        </nav>
    </header>

    <main class="flex-grow container mx-auto px-4 sm:px-6 lg:px-8 py-4 flex items-center justify-center">
        <div class="bg-white p-2 sm:p-8 rounded-xl shadow-lg w-full max-w-md">
            <div class="flex border-b border-gray-200 mb-6">
                <button id="loginTabButton" class="flex-1 py-3 text-center font-semibold text-blue-600 border-b-2 border-blue-600 focus:outline-none" onclick="showTab('login')">
                    เข้าสู่ระบบ
                </button>
                <button id="registerTabButton" class="flex-1 py-3 text-center font-semibold text-gray-500 hover:text-gray-700 focus:outline-none" onclick="showTab('register')">
                    ลงทะเบียน
                </button>
            </div>

            <div id="loginTabContent" class="tab-content">
                <h2 class="text-2xl font-bold text-center text-gray-800 mb-6">เข้าสู่ระบบ</h2>
                <form id="loginForm" onsubmit="handleLogin(event)">
                    <div class="mb-4">
                        <label for="login-username" class="block text-sm font-medium text-gray-700 mb-1">เลขประจำตัวประชาชน / อีเมล</label>
                        <input type="text" id="login-username" name="username" required
                               class="w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500 transition duration-150 ease-in-out"
                               placeholder="กรอกเลขประจำตัวประชาชนหรืออีเมล">
                    </div>
                    <div class="mb-4">
                        <label for="login-password" class="block text-sm font-medium text-gray-700 mb-1">รหัสผ่าน</label>
                        <input type="password" id="login-password" name="password" required
                               class="w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500 transition duration-150 ease-in-out"
                               placeholder="กรอกรหัสผ่าน">
                    </div>
                    <div class="flex items-center justify-between mb-6">
                        <div class="flex items-center">
                            <input id="remember-me" name="remember-me" type="checkbox"
                                   class="h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded">
                            <label for="remember-me" class="ml-2 block text-sm text-gray-900">จำฉันไว้ในระบบ</label>
                        </div>
                        <div class="text-sm">
                            <a href="#" class="font-medium text-blue-600 hover:text-blue-500">
                                ลืมรหัสผ่าน?
                            </a>
                        </div>
                    </div>
                    <div>
                        <button type="submit"
                                class="w-full flex justify-center py-2 px-4 rounded-lg shadow-lg text-sm font-medium text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition duration-150 ease-in-out">
                                เข้าสู่ระบบ
                        </button>
                    </div>
                </form>
            </div>

            <div id="registerTabContent" class="tab-content hidden">
                <h2 class="text-2xl font-bold text-center text-gray-800 mb-6">ลงทะเบียน</h2>
                <form action="#" method="POST">
                    <div class="mb-4">
                        <label class="block text-sm font-medium text-gray-700 mb-1">ประเภทผู้ใช้งาน</label>
                        <div class="flex space-x-4">
                            <div class="flex items-center">
                                <input id="type-individual" name="user_type" type="radio" value="individual" checked class="focus:ring-blue-500 h-4 w-4 text-blue-600 border-gray-300">
                                <label for="type-individual" class="ml-2 block text-sm text-gray-900">บุคคลทั่วไป</label>
                            </div>
                            <div class="flex items-center">
                                <input id="type-organization" name="user_type" type="radio" value="organization" class="focus:ring-blue-500 h-4 w-4 text-blue-600 border-gray-300">
                                <label for="type-organization" class="ml-2 block text-sm text-gray-900">หน่วยงาน/องค์กร</label>
                            </div>
                        </div>
                    </div>
                    <div id="userFields" class="hidden space-y-4 mb-4">
                        <div class="mb-4">
                            <label for="register-username" class="block text-sm font-medium text-gray-700 mb-1">ชื่อผู้ใช้</label>
                            <input type="text" id="register-username" name="username" required
                                   class="w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500 transition duration-150 ease-in-out"
                                   placeholder="กรอกชื่อผู้ใช้ (ภาษาไทย)">
                        </div>
                        <div class="mb-4">
                            <label for="register-userID" class="block text-sm font-medium text-gray-700 mb-1">เลขประจำตัวประชาชน</label>
                            <input type="userID" id="register-userID" name="userID" required
                                class="w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500 transition duration-150 ease-in-out"
                                placeholder="กรอกเลขประจำตัวประชาชน">
                        </div>
                    </div>
                    <div id="organizationFields" class="hidden space-y-4 mb-4">
                        <div >
                           <label for="org-name" class="block text-sm font-medium text-gray-700 mb-1">ชื่อหน่วยงาน/องค์กร</label>
                           <input type="text" id="org-name" name="org_name" required
                                  class="w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500 transition duration-150 ease-in-out"
                                  placeholder="กรอกชื่อหน่วยงาน">
                       </div>
                       <div>
                           <label for="org-id" class="block text-sm font-medium text-gray-700 mb-1">เลขหน่วยงาน/องค์กร</label>
                           <input type="text" id="org-id" name="org_id"
                                  class="w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500 transition duration-150 ease-in-out"
                                  placeholder="กรอกเลขหน่วยงานหรือองค์กร">
                       </div>
                   </div>
                    <div class="mb-4">
                        <label for="register-email" class="block text-sm font-medium text-gray-700 mb-1">อีเมล</label>
                        <input type="email" id="register-email" name="email" required
                               class="w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500 transition duration-150 ease-in-out"
                               placeholder="กรอกอีเมล">
                    </div>
                    <div class="mb-4">
                        <label for="register-password" class="block text-sm font-medium text-gray-700 mb-1">รหัสผ่าน</label>
                        <input type="password" id="register-password" name="password" required
                               class="w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500 transition duration-150 ease-in-out"
                               placeholder="ตั้งรหัสผ่าน (อย่างน้อย 8 ตัว)">
                    </div>
                    <div class="mb-6">
                        <label for="register-confirm-password" class="block text-sm font-medium text-gray-700 mb-1">ยืนยันรหัสผ่าน</label>
                        <input type="password" id="register-confirm-password" name="confirm_password" required
                               class="w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500 transition duration-150 ease-in-out"
                               placeholder="ยืนยันรหัสผ่านอีกครั้ง">
                    </div>

                    <div>
                        <button type="submit"
                                class="w-full flex justify-center py-2 px-4 border border-transparent rounded-lg shadow-sm text-sm font-medium text-white bg-green-600 hover:bg-green-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-green-500 transition duration-150 ease-in-out">
                            ลงทะเบียน
                        </button>
                    </div>
                </form>
            </div>
        </div>
    </main>

    <footer class="bg-gray-800 text-white mt-12">
        <div class="px-6 py-6">
            <div class="grid grid-cols-3 gap-8 justify-items-center">
                <div>
                    <h3 class="text-lg font-semibold mb-3">เกี่ยวกับระบบ</h3>
                    <p class="text-sm text-gray-400">ระบบฐานข้อมูลกลางและมาตรฐานข้อมูล กระทรวงแรงงาน</p>
                    <p class="text-sm text-gray-400">แหล่งรวมข้อมูลเปิดด้านแรงงานเพื่อการนำไปใช้ประโยชน์</p>
                </div>
                <div>
                    <h3 class="text-lg font-semibold mb-3">ลิงก์ที่เกี่ยวข้อง</h3>
                    <ul class="space-y-1 text-sm">
                        <li><a href="https://www.mol.go.th/" class="text-gray-400 hover:text-white">กระทรวงแรงงาน</a></li>
                        <li><a href="https://ops.mol.go.th/" class="text-gray-400 hover:text-white">สำนักงานปลัดกระทรวงแรงงาน</a></li>
                        <li><a href="https://data.go.th" target="_blank" rel="noopener noreferrer" class="text-gray-400 hover:text-white">data.go.th (ศูนย์กลางข้อมูลเปิดภาครัฐ)</a></li>
                        <li><a href="https://www.ratchakitcha.soc.go.th/DATA/PDF/2562/A/069/T_0052.PDF" class="text-gray-400 hover:text-white">นโยบายความเป็นส่วนตัว</a></li>
                        <li><a href="#" class="text-gray-400 hover:text-white">เงื่อนไขการใช้งาน</a></li>
                    </ul>
                </div>
                <div>
                    <h3 class="text-lg font-semibold mb-3">ข้อมูลติดต่อ</h3>
                    <p class="text-sm text-gray-400 mb-2">ศูนย์เทคโนโลยีสารสนเทศและการสื่อสาร <br>สำนักงานปลัดกระทรวงแรงงาน</p>
                    <p class="text-sm text-gray-400 mb-2"><i class="fas fa-phone-alt mr-2"></i>0 2232 1414, 0 2232 1416</p>
                    <p class="text-sm text-gray-400"><i class="fas fa-envelope mr-2"></i>istc@mol.mail.go.th</p>
                </div>
            </div>
            <div class="mt-4 pt-2 border-t border-gray-700 text-center text-sm text-gray-500">
                &copy; <span id="current-year"></span> ลิขสิทธิ์ของกระทรวงแรงงาน
            </div>
        </div>
    </footer>

    <script>
        // Get DOM elements
        const loginTabButton = document.getElementById('loginTabButton');
        const registerTabButton = document.getElementById('registerTabButton');
        const loginTabContent = document.getElementById('loginTabContent');
        const registerTabContent = document.getElementById('registerTabContent');
        const organizationFields = document.getElementById('organizationFields');
        const userFields = document.getElementById('userFields');
        const userTypeRadios = document.querySelectorAll('input[name="user_type"]');

        // Function to switch between login and register tabs
        function showTab(tabName) {
            if (tabName === 'login') {
                // Show login, hide register
                loginTabContent.classList.remove('hidden');
                registerTabContent.classList.add('hidden');
                // Update button styles
                loginTabButton.classList.add('text-blue-600', 'border-blue-600');
                loginTabButton.classList.remove('text-gray-500', 'hover:text-gray-700');
                registerTabButton.classList.add('text-gray-500', 'hover:text-gray-700');
                registerTabButton.classList.remove('text-blue-600', 'border-blue-600');
            } else if (tabName === 'register') {
                // Show register, hide login
                registerTabContent.classList.remove('hidden');
                loginTabContent.classList.add('hidden');
                 // Update button styles
                registerTabButton.classList.add('text-blue-600', 'border-blue-600');
                registerTabButton.classList.remove('text-gray-500', 'hover:text-gray-700');
                loginTabButton.classList.add('text-gray-500', 'hover:text-gray-700');
                loginTabButton.classList.remove('text-blue-600', 'border-blue-600');
            }
             // Re-apply opacity for fade-in effect
            requestAnimationFrame(() => {
                loginTabContent.style.opacity = tabName === 'login' ? '1' : '0';
                registerTabContent.style.opacity = tabName === 'register' ? '1' : '0';
            });
        }

        // Function to show/hide organization-specific fields
        function toggleOrganizationFields() {
            const selectedType = document.querySelector('input[name="user_type"]:checked').value;
            if (selectedType === 'organization') {
                organizationFields.classList.remove('hidden');
                userFields.classList.add('hidden');
            } else {
                organizationFields.classList.add('hidden');
                userFields.classList.remove('hidden');
            }
        }

        // Add event listeners to user type radio buttons
        userTypeRadios.forEach(radio => {
            radio.addEventListener('change', toggleOrganizationFields);
        });

        // testlogin
        function handleLogin(event) {
            event.preventDefault(); // Prevent form submission
            const username = document.getElementById('login-username').value;
            const password = document.getElementById('login-password').value;
            // Simulate login logic here (e.g., AJAX request to server)
            console.log(`Logging in with username: ${username} and password: ${password}`);
            // Show success message (replace with actual logic)
            if (username && password) {
                // window.location.href = 'dashboard.html'; // Change this to your target page URL
                alert('เข้าสู่ระบบสำเร็จ!'); 
            }
        }
        // Initial setup: Show login tab by default and check user type
        document.addEventListener('DOMContentLoaded', () => {
            showTab('login'); // Show login tab initially
            toggleOrganizationFields(); // Check initial user type selection

            // --- Example Login/Logout Simulation ---
            const loginButton = document.getElementById('loginButton');
            const userProfile = document.getElementById('userProfile');
            const logoutButton = document.getElementById('logoutButton'); // Assuming this exists in the profile dropdown

        //     // Simulate login
        //     loginButton.addEventListener('click', () => {
        //         // In a real app, you'd handle actual login logic here
        //         loginButton.classList.add('hidden');
        //         userProfile.classList.remove('hidden');
        //         // Using a simple confirmation box instead of alert
        //         if (confirm('จำลองการเข้าสู่ระบบสำเร็จ! กด OK เพื่อดำเนินการต่อ')) {
        //              console.log("Login simulated.");
        //          }
        //     });

        //      // Simulate logout (assuming a logout button exists in the profile dropdown)
        //     if(logoutButton) {
        //          logoutButton.addEventListener('click', (e) => {
        //              e.preventDefault(); // Prevent default link behavior
        //              // In a real app, handle logout logic (clear session, etc.)
        //              userProfile.classList.add('hidden');
        //              loginButton.classList.remove('hidden');
        //              // Using a simple confirmation box instead of alert
        //              if (confirm('จำลองการออกจากระบบสำเร็จ! กด OK เพื่อดำเนินการต่อ')) {
        //                  console.log("Logout simulated.");
        //              }
        //          });
        //     }

        //     // Toggle profile dropdown visibility (basic example)
        //     const profileButton = userProfile.querySelector('button');
        //     const dropdownMenu = userProfile.querySelector('.absolute');
        //     if (profileButton && dropdownMenu) {
        //         profileButton.addEventListener('click', () => {
        //             dropdownMenu.classList.toggle('hidden');
        //         });
        //         // Optional: Close dropdown when clicking outside
        //         document.addEventListener('click', (event) => {
        //             // Check if the click is outside the userProfile container
        //             if (!userProfile.contains(event.target)) {
        //                 dropdownMenu.classList.add('hidden');
        //             }
        //         });
        //     }
        //     // --- End Example Login/Logout Simulation ---
        });

    </script>

</body>
</html>
